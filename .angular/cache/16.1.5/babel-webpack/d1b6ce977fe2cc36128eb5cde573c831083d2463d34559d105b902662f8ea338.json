{"ast":null,"code":"import { __decorate } from \"tslib\";\nimimport;\n{\n  Component, EventEmitter, Input, Output;\n}\nfrom;\n'@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { Years } from '../../models/student.model';\nimport { AbsantDays } from '../../models/absantday.model';\nexport let AddStudentComponent = class AddStudentComponent {\n  get student() {\n    return this._student;\n  }\n  set student(value) {\n    this._student = value;\n    if (this._student != undefined) {\n      this.studentForm = new FormGroup({\n        \"idS\": new FormControl(this.student?.idS),\n        \"id\": new FormControl(this.student?.id, [Validators.required, Validators.minLength(4)]),\n        \"firstname\": new FormControl(this.student?.firstname, Validators.required),\n        \"lastname\": new FormControl(this.student?.lastname),\n        \"address\": new FormControl(this.student?.address),\n        \"telephone\": new FormControl(this.student?.telephone),\n        \"active\": new FormControl(this.student?.active),\n        \"marksAvg\": new FormControl(this.student?.marksAvg),\n        \"leftDate\": new FormControl(this.student?.leftDate),\n        \"subjects\": new FormControl(this.student?.sujects),\n        \"years\": new FormControl(this.student?.years),\n        \"absentDays\": new FormControl(this.student?.absentDays)\n      });\n    }\n  }\n  begginingDate(begginingDate) {\n    this.begginingDate_s = begginingDate;\n  }\n  numbersOfDays(numbersOfDays) {\n    this.numbersOfDays_s = numbersOfDays;\n  }\n  saveStudent() {\n    this.newStudent = this.studentForm.value;\n    if (this.newStudent.idS != 0) {\n      this.abs = new AbsantDays(this.newStudent.idS, this.begginingDate_s, parseInt(this.numbersOfDays_s), 0);\n      this.addAbsantDayInServer(this.newStudent.idS, this.abs);\n      this.returnToList();\n    }\n  }\n  save2() {\n    this.newStudent = this.studentForm.value;\n    this.putInServer(this.newStudent.idS, this.newStudent);\n    this.returnToList();\n  }\n  addAbsantDayInServer(id, absant) {\n    this._studentService.addAbsantDayInServer(id, absant).subscribe(data => {});\n  }\n  putInServer(id, student) {\n    this._studentService.putInServer(id, student).subscribe(data => {\n      if (data) {} else {\n        alert(\"the update didn't succeed\");\n      }\n    });\n  }\n  getFromServerById(idS) {\n    this._studentService.getFromServerById(idS).subscribe(data => {\n      this.student = data;\n    });\n  }\n  returnToList() {\n    this._router.navigate([\"/students\"]);\n  }\n  constructor(_studentService, _acr, _router) {\n    this._studentService = _studentService;\n    this._acr = _acr;\n    this._router = _router;\n    this.subjects = [\"English\", \"Math\", \"history\"];\n    this.yearsType = Years;\n  }\n  ngOnInit() {\n    this._acr.paramMap.subscribe(paraMap => {\n      if (paraMap.has(\"idS\")) {\n        this.SIdS = +paraMap.get(\"idS\");\n      }\n    });\n    this.getFromServerById(this.SIdS);\n  }\n};\nAddStudentComponent = __decorate([Component({\n  selector: 'add-student',\n  templateUrl: './add-student.component.html'\n})], AddStudentComponent);","map":{"version":3,"names":["imimport","Component","EventEmitter","Input","Output","from","FormControl","FormGroup","Validators","Years","AbsantDays","AddStudentComponent","student","_student","value","undefined","studentForm","idS","id","required","minLength","firstname","lastname","address","telephone","active","marksAvg","leftDate","sujects","years","absentDays","begginingDate","begginingDate_s","numbersOfDays","numbersOfDays_s","saveStudent","newStudent","abs","parseInt","addAbsantDayInServer","returnToList","save2","putInServer","absant","_studentService","subscribe","data","alert","getFromServerById","_router","navigate","constructor","_acr","subjects","yearsType","ngOnInit","paramMap","paraMap","has","SIdS","get","__decorate","selector","templateUrl"],"sources":["C:\\Users\\user1\\Desktop\\angular\\angular_p\\src\\app\\modules\\student\\components\\add-student\\add-student.component.ts"],"sourcesContent":["imimport { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Student, Years } from '../../models/student.model';\nimport { AbsantDays } from '../../models/absantday.model';\nimport { StudentService } from '../../student.service';\n\n@Component({\n  selector: 'add-student',\n  templateUrl: './add-student.component.html'\n})\nexport class AddStudentComponent {\n\n  private _student?: Student\n  studentForm!: FormGroup;\n\n  public get student(): Student | undefined {\n    return this._student;\n  }\n\n\n\n  public set student(value: Student | undefined) {\n    this._student = value;\n    if (this._student != undefined) {\n\n      this.studentForm = new FormGroup({\n        \"idS\": new FormControl(this.student?.idS),\n        \"id\": new FormControl(this.student?.id, [Validators.required, Validators.minLength(4)]),\n        \"firstname\": new FormControl(this.student?.firstname, Validators.required),\n        \"lastname\": new FormControl(this.student?.lastname),\n        \"address\": new FormControl(this.student?.address),\n        \"telephone\": new FormControl(this.student?.telephone),\n        \"active\": new FormControl(this.student?.active),\n        \"marksAvg\": new FormControl(this.student?.marksAvg),\n        \"leftDate\": new FormControl(this.student?.leftDate),\n        \"subjects\": new FormControl(this.student?.sujects),\n        \"years\": new FormControl(this.student?.years),\n        \"absentDays\": new FormControl(this.student?.absentDays),\n\n\n      });\n    }\n\n  }\n\n  begginingDate_s!: string;\n  numbersOfDays_s!: string\n  subjects: string[] = [\"English\", \"Math\", \"history\"];\n  yearsType = Years;\n  abs!: AbsantDays;\n\n\n\n\n  begginingDate(begginingDate: string) { this.begginingDate_s = begginingDate }\n  numbersOfDays(numbersOfDays: string) { this.numbersOfDays_s = numbersOfDays }\n\n  newStudent!: Student;\n  new!: Student;\n  saveStudent() {\n\n\n    this.newStudent = this.studentForm.value;\n\n\n    if (this.newStudent.idS != 0) {\n      this.abs = new AbsantDays(this.newStudent.idS, this.begginingDate_s, parseInt(this.numbersOfDays_s), 0)\n      this.addAbsantDayInServer(this.newStudent.idS, this.abs);\n      this.returnToList()\n    }\n\n\n  }\n  save2() {\n    this.newStudent = this.studentForm.value;\n    this.putInServer(this.newStudent.idS, this.newStudent)\n    this.returnToList()\n  }\n\n  addAbsantDayInServer(id: number, absant: AbsantDays) {\n    this._studentService.addAbsantDayInServer(id, absant).subscribe(data => {\n    })\n  }\n\n  putInServer(id: number, student: Student) {\n    this._studentService.putInServer(id, student).subscribe(data => {\n      if (data) {\n      }\n      else {\n        alert(\"the update didn't succeed\")\n      }\n    })\n  }\n  SIdS!: number\n  getFromServerById(idS: number) {\n    this._studentService.getFromServerById(idS).subscribe(data => {\n      this.student = data;\n    });\n  }\n  returnToList(){\n    this._router.navigate([\"/students\"])\n  }\n\n  constructor(private _studentService: StudentService, private _acr: ActivatedRoute, private _router: Router) {\n\n  }\n\n  ngOnInit(): void {\n    this._acr.paramMap.subscribe(paraMap => {\n      if (paraMap.has(\"idS\")) {\n        this.SIdS = +paraMap.get(\"idS\");\n      }\n\n    })\n    this.getFromServerById(this.SIdS);\n  }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}